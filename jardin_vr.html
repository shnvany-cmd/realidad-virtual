<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Jard칤n VR Interactivo</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <style>
      body { margin: 0; }
      #ui-panel {
        position: fixed;
        top: 20px;
        left: 20px;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 15px;
        border-radius: 8px;
        font-family: Arial, sans-serif;
        font-size: 14px;
        display: none;
        z-index: 999;
      }
      #ui-panel.visible {
        display: block;
      }
      .grow-button {
        background: #4CC3D9;
        border: none;
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 10px;
        font-weight: bold;
      }
      .grow-button:hover {
        background: #2BA3A9;
      }
    </style>
  </head>
  <body>
    <div id="ui-panel">
      <p id="plant-type" style="font-weight: bold; color: #4CC3D9;">Planta cercana</p>
      <p id="plant-name" style="font-size: 12px; margin: 5px 0;">-</p>
      <button class="grow-button" id="grow-btn">Hacer Crecer Planta</button>
    </div>

    <a-scene>
      <!-- Cielo -->
      <a-sky color="#87CEEB"></a-sky>

      <!-- Suelo del jard칤n -->
      <a-plane rotation="-90 0 0" width="100" height="100" color="#7BC8A4" position="0 0 0"></a-plane>

      <!-- CAMINO CENTRAL VERTICAL (principal) - Vertical striped -->
      <a-plane rotation="-90 0 0" width="3" height="100" color="#D2691E" position="0 0.01 0"></a-plane>
      
      <!-- CAMINO CENTRAL HORIZONTAL (principal) -->
      <a-plane rotation="-90 0 0" width="100" height="3" color="#D2691E" position="0 0.01 0"></a-plane>

      <!-- CAMINO SUPERIOR CURVO (circunda superior-izquierda e superior-derecha) -->
      <a-plane rotation="-90 0 0" width="50" height="3" color="#D2691E" position="-25 0.01 -25"></a-plane>
      <a-plane rotation="-90 0 0" width="3" height="15" color="#D2691E" position="-25 0.01 -17.5"></a-plane>
      <a-plane rotation="-90 0 0" width="50" height="3" color="#D2691E" position="25 0.01 -25"></a-plane>
      <a-plane rotation="-90 0 0" width="3" height="15" color="#D2691E" position="25 0.01 -17.5"></a-plane>

      <!-- CAMINO INFERIOR CURVO (circunda inferior-izquierda e inferior-derecha) -->
      <a-plane rotation="-90 0 0" width="50" height="3" color="#D2691E" position="-25 0.01 25"></a-plane>
      <a-plane rotation="-90 0 0" width="3" height="15" color="#D2691E" position="-25 0.01 32.5"></a-plane>
      <a-plane rotation="-90 0 0" width="50" height="3" color="#D2691E" position="25 0.01 25"></a-plane>
      <a-plane rotation="-90 0 0" width="3" height="15" color="#D2691E" position="25 0.01 32.5"></a-plane>

      <!-- CAMINOS LATERALES EXTERNOS -->
      <a-plane rotation="-90 0 0" width="3" height="50" color="#D2691E" position="-28 0.01 0"></a-plane>
      <a-plane rotation="-90 0 0" width="3" height="50" color="#D2691E" position="28 0.01 0"></a-plane>

      <!-- Luz ambiental -->
      <a-light type="ambient" color="#FFF" intensity="0.6"></a-light>
      <a-light type="directional" color="#FFF" intensity="0.8" position="5 10 5"></a-light>

      <!-- ============== HUERTA CENTRAL: FLORES (Arriba-Centro) ============== -->
      <!-- Borde/Per칤metro de la Huerta de Flores -->
      <a-plane rotation="-90 0 0" width="30" height="20" color="#C9A876" position="0 0.02 -12" opacity="0.3"></a-plane>
      <a-curve-plane width="30" height="20" color="#D2B48C" position="0 0.03 -12"></a-curve-plane>
      
      <!-- Cartel Flores -->
      <a-entity position="0 0 -18">
        <a-plane width="4" height="1.2" color="#8B4513" position="0 1.5 0"></a-plane>
        <a-text value="游꺛 FLORES 游꺙 游꺝" align="center" anchor="center" position="0 1.5 0.1" scale="1.6 1.6 1.6" color="white"></a-text>
      </a-entity>
      
      <!-- ROSAS (fila 1 izquierda) -->
      <a-entity id="plant-1" position="-10 0 -14" class="plant" data-type="flower" data-species="Rosa">
        <a-cylinder radius="0.08" height="0.7" color="#2D5016" position="0 0.35 0"></a-cylinder>
        <!-- Hojas -->
        <a-plane rotation="0 0 30" width="0.12" height="0.25" color="#228B22" position="-0.15 0.35 0"></a-plane>
        <a-plane rotation="0 0 -30" width="0.12" height="0.25" color="#228B22" position="0.15 0.35 0"></a-plane>
        <!-- Flor -->
        <a-plane rotation="90 0 0" width="0.3" height="0.3" color="#FF1493" position="0 0.95 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.16" height="0.16" color="#FFB6C1" position="0.12 0.95 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.16" height="0.16" color="#FFB6C1" position="-0.12 0.95 0"></a-plane>
      </a-entity>
      <a-entity id="plant-2" position="-8 0 -14" class="plant" data-type="flower" data-species="Rosa">
        <a-cylinder radius="0.08" height="0.65" color="#2D5016" position="0 0.325 0"></a-cylinder>
        <!-- Hojas -->
        <a-plane rotation="0 0 30" width="0.11" height="0.23" color="#228B22" position="-0.14 0.32 0"></a-plane>
        <a-plane rotation="0 0 -30" width="0.11" height="0.23" color="#228B22" position="0.14 0.32 0"></a-plane>
        <!-- Flor -->
        <a-plane rotation="90 0 0" width="0.28" height="0.28" color="#FF1493" position="0 0.9 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.14" height="0.14" color="#FFB6C1" position="0.11 0.9 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.14" height="0.14" color="#FFB6C1" position="-0.11 0.9 0"></a-plane>
      </a-entity>
      <a-entity id="plant-3" position="-6 0 -14" class="plant" data-type="flower" data-species="Rosa">
        <a-cylinder radius="0.08" height="0.75" color="#2D5016" position="0 0.375 0"></a-cylinder>
        <!-- Hojas -->
        <a-plane rotation="0 0 30" width="0.12" height="0.27" color="#228B22" position="-0.16 0.38 0"></a-plane>
        <a-plane rotation="0 0 -30" width="0.12" height="0.27" color="#228B22" position="0.16 0.38 0"></a-plane>
        <!-- Flor -->
        <a-plane rotation="90 0 0" width="0.32" height="0.32" color="#FF1493" position="0 1.0 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.16" height="0.16" color="#FFB6C1" position="0.13 1.0 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.16" height="0.16" color="#FFB6C1" position="-0.13 1.0 0"></a-plane>
      </a-entity>

      <!-- TULIPANES (fila 2 izquierda) -->
      <a-entity id="plant-4" position="-10 0 -10" class="plant" data-type="flower" data-species="Tulip치n">
        <a-cylinder radius="0.06" height="0.6" color="#2D5016" position="0 0.3 0"></a-cylinder>
        <!-- Hojas -->
        <a-plane rotation="0 0 25" width="0.09" height="0.35" color="#228B22" position="-0.12 0.25 0"></a-plane>
        <a-plane rotation="0 0 -25" width="0.09" height="0.35" color="#228B22" position="0.12 0.25 0"></a-plane>
        <!-- Flor -->
        <a-plane rotation="90 0 0" width="0.24" height="0.2" color="#FFD700" position="0 0.65 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.20" height="0.18" color="#FFA500" position="0 0.85 0"></a-plane>
      </a-entity>
      <a-entity id="plant-5" position="-8 0 -10" class="plant" data-type="flower" data-species="Tulip치n">
        <a-cylinder radius="0.06" height="0.58" color="#2D5016" position="0 0.29 0"></a-cylinder>
        <!-- Hojas -->
        <a-plane rotation="0 0 25" width="0.09" height="0.33" color="#228B22" position="-0.11 0.24 0"></a-plane>
        <a-plane rotation="0 0 -25" width="0.09" height="0.33" color="#228B22" position="0.11 0.24 0"></a-plane>
        <!-- Flor -->
        <a-plane rotation="90 0 0" width="0.22" height="0.19" color="#FFD700" position="0 0.64 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.18" height="0.17" color="#FFA500" position="0 0.83 0"></a-plane>
      </a-entity>
      <a-entity id="plant-6" position="-6 0 -10" class="plant" data-type="flower" data-species="Tulip치n">
        <a-cylinder radius="0.07" height="0.62" color="#2D5016" position="0 0.31 0"></a-cylinder>
        <!-- Hojas -->
        <a-plane rotation="0 0 25" width="0.1" height="0.36" color="#228B22" position="-0.13 0.26 0"></a-plane>
        <a-plane rotation="0 0 -25" width="0.1" height="0.36" color="#228B22" position="0.13 0.26 0"></a-plane>
        <!-- Flor -->
        <a-plane rotation="90 0 0" width="0.26" height="0.21" color="#FFD700" position="0 0.67 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.22" height="0.19" color="#FFA500" position="0 0.88 0"></a-plane>
      </a-entity>

      <!-- GIRASOLES (fila 1 derecha) -->
      <a-entity id="plant-7" position="6 0 -14" class="plant" data-type="flower" data-species="Girasol">
        <a-cylinder radius="0.12" height="1.2" color="#2D5016" position="0 0.6 0"></a-cylinder>
        <!-- Hojas -->
        <a-plane rotation="0 0 35" width="0.15" height="0.5" color="#228B22" position="-0.25 0.45 0"></a-plane>
        <a-plane rotation="0 0 -35" width="0.15" height="0.5" color="#228B22" position="0.25 0.45 0"></a-plane>
        <!-- Flor -->
        <a-plane rotation="90 0 0" width="0.5" height="0.5" color="#FFD700" position="0 1.35 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.24" height="0.24" color="#FFA500" position="0 1.35 0"></a-plane>
      </a-entity>
      <a-entity id="plant-8" position="8 0 -14" class="plant" data-type="flower" data-species="Girasol">
        <a-cylinder radius="0.12" height="1.3" color="#2D5016" position="0 0.65 0"></a-cylinder>
        <!-- Hojas -->
        <a-plane rotation="0 0 35" width="0.16" height="0.55" color="#228B22" position="-0.27 0.5 0"></a-plane>
        <a-plane rotation="0 0 -35" width="0.16" height="0.55" color="#228B22" position="0.27 0.5 0"></a-plane>
        <!-- Flor -->
        <a-plane rotation="90 0 0" width="0.54" height="0.54" color="#FFD700" position="0 1.45 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.26" height="0.26" color="#FFA500" position="0 1.45 0"></a-plane>
      </a-entity>
      <a-entity id="plant-9" position="10 0 -14" class="plant" data-type="flower" data-species="Girasol">
        <a-cylinder radius="0.11" height="1.15" color="#2D5016" position="0 0.575 0"></a-cylinder>
        <!-- Hojas -->
        <a-plane rotation="0 0 35" width="0.15" height="0.48" color="#228B22" position="-0.24 0.43 0"></a-plane>
        <a-plane rotation="0 0 -35" width="0.15" height="0.48" color="#228B22" position="0.24 0.43 0"></a-plane>
        <!-- Flor -->
        <a-plane rotation="90 0 0" width="0.48" height="0.48" color="#FFD700" position="0 1.3 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.24" height="0.24" color="#FFA500" position="0 1.3 0"></a-plane>
      </a-entity>

      <!-- LOTOS (fila 2 derecha) -->
      <a-entity id="plant-10" position="6 0 -10" class="plant" data-type="flower" data-species="Loto">
        <a-cylinder radius="0.05" height="0.4" color="#2D5016" position="0 0.2 0"></a-cylinder>
        <!-- Hojas -->
        <a-plane rotation="0 0 20" width="0.08" height="0.22" color="#228B22" position="-0.1 0.15 0"></a-plane>
        <a-plane rotation="0 0 -20" width="0.08" height="0.22" color="#228B22" position="0.1 0.15 0"></a-plane>
        <!-- Flor -->
        <a-plane rotation="90 0 0" width="0.36" height="0.36" color="#FF69B4" position="0 0.55 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.18" height="0.18" color="#FFB6C1" position="0.14 0.5 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.18" height="0.18" color="#FFB6C1" position="-0.14 0.5 0"></a-plane>
      </a-entity>
      <a-entity id="plant-11" position="8 0 -10" class="plant" data-type="flower" data-species="Loto">
        <a-cylinder radius="0.05" height="0.42" color="#2D5016" position="0 0.21 0"></a-cylinder>
        <!-- Hojas -->
        <a-plane rotation="0 0 20" width="0.08" height="0.23" color="#228B22" position="-0.11 0.16 0"></a-plane>
        <a-plane rotation="0 0 -20" width="0.08" height="0.23" color="#228B22" position="0.11 0.16 0"></a-plane>
        <!-- Flor -->
        <a-plane rotation="90 0 0" width="0.38" height="0.38" color="#FF69B4" position="0 0.58 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.18" height="0.18" color="#FFB6C1" position="0.15 0.53 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.18" height="0.18" color="#FFB6C1" position="-0.15 0.53 0"></a-plane>
      </a-entity>
      <a-entity id="plant-12" position="10 0 -10" class="plant" data-type="flower" data-species="Loto">
        <a-cylinder radius="0.05" height="0.38" color="#2D5016" position="0 0.19 0"></a-cylinder>
        <!-- Hojas -->
        <a-plane rotation="0 0 20" width="0.08" height="0.21" color="#228B22" position="-0.09 0.14 0"></a-plane>
        <a-plane rotation="0 0 -20" width="0.08" height="0.21" color="#228B22" position="0.09 0.14 0"></a-plane>
        <!-- Flor -->
        <a-plane rotation="90 0 0" width="0.34" height="0.34" color="#FF69B4" position="0 0.52 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.16" height="0.16" color="#FFB6C1" position="0.13 0.48 0"></a-plane>
        <a-plane rotation="90 0 0" width="0.16" height="0.16" color="#FFB6C1" position="-0.13 0.48 0"></a-plane>
      </a-entity>

      <!-- ============== HUERTA 5: HELECHOS (Cuadrante Superior-Derecha) ============== -->
      <!-- Cartel Helechos -->
      <a-entity position="20 0 -8">
        <a-plane width="3" height="1.2" color="#8B4513" position="0 1.5 0"></a-plane>
        <a-text value="游 HELECHOS" align="center" anchor="center" position="0 1.5 0.1" scale="1.8 1.8 1.8" color="white"></a-text>
      </a-entity>
      <!-- Plantas Helechos -->
      <a-entity id="plant-13" position="18.5 0 -6" class="plant" data-type="shrub" data-species="Helecho">
        <a-cylinder radius="0.15" height="0.9" color="#1a4d1a" position="0 0.45 0"></a-cylinder>
        <a-sphere radius="0.25" color="#228B22" position="0 1.0 0"></a-sphere>
        <a-sphere radius="0.2" color="#2E8B57" position="0.15 0.85 0"></a-sphere>
        <a-sphere radius="0.2" color="#2E8B57" position="-0.15 0.85 0"></a-sphere>
        <!-- Flores de Helecho -->
        <a-sphere radius="0.08" color="#FFB6C1" position="0 1.2 0.2"></a-sphere>
        <a-sphere radius="0.07" color="#FFC0CB" position="0.15 1.15 0.1"></a-sphere>
        <a-sphere radius="0.07" color="#FFB6C1" position="-0.15 1.15 0.1"></a-sphere>
      </a-entity>
      <a-entity id="plant-14" position="20 0 -6" class="plant" data-type="shrub" data-species="Helecho">
        <a-cylinder radius="0.16" height="0.95" color="#1a4d1a" position="0 0.475 0"></a-cylinder>
        <a-sphere radius="0.26" color="#228B22" position="0 1.1 0"></a-sphere>
        <a-sphere radius="0.21" color="#2E8B57" position="0.16 0.9 0"></a-sphere>
        <a-sphere radius="0.21" color="#2E8B57" position="-0.16 0.9 0"></a-sphere>
        <!-- Flores de Helecho -->
        <a-sphere radius="0.08" color="#FFB6C1" position="0 1.3 0.2"></a-sphere>
        <a-sphere radius="0.07" color="#FFC0CB" position="0.16 1.25 0.1"></a-sphere>
        <a-sphere radius="0.07" color="#FFB6C1" position="-0.16 1.25 0.1"></a-sphere>
      </a-entity>
      <a-entity id="plant-15" position="21.5 0 -6" class="plant" data-type="shrub" data-species="Helecho">
        <a-cylinder radius="0.14" height="0.85" color="#1a4d1a" position="0 0.425 0"></a-cylinder>
        <a-sphere radius="0.24" color="#228B22" position="0 0.95 0"></a-sphere>
        <a-sphere radius="0.2" color="#2E8B57" position="0.14 0.8 0"></a-sphere>
        <a-sphere radius="0.2" color="#2E8B57" position="-0.14 0.8 0"></a-sphere>
        <!-- Flores de Helecho -->
        <a-sphere radius="0.08" color="#FFB6C1" position="0 1.15 0.2"></a-sphere>
        <a-sphere radius="0.07" color="#FFC0CB" position="0.14 1.1 0.1"></a-sphere>
        <a-sphere radius="0.07" color="#FFB6C1" position="-0.14 1.1 0.1"></a-sphere>
      </a-entity>

      <!-- ============== HUERTA 6: LAURELES (Cuadrante Inferior-Izquierda) ============== -->
      <!-- Cartel Laureles -->
      <a-entity position="-20 0 8">
        <a-plane width="3" height="1.2" color="#8B4513" position="0 1.5 0"></a-plane>
        <a-text value="游 LAURELES" align="center" anchor="center" position="0 1.5 0.1" scale="1.8 1.8 1.8" color="white"></a-text>
      </a-entity>
      <!-- Plantas Laureles -->
      <a-entity id="plant-16" position="-21.5 0 10" class="plant" data-type="shrub" data-species="Laurel">
        <a-cylinder radius="0.18" height="1.0" color="#1a4d1a" position="0 0.5 0"></a-cylinder>
        <a-sphere radius="0.28" color="#3CB371" position="0 1.2 0"></a-sphere>
        <!-- Flores de Laurel -->
        <a-sphere radius="0.09" color="#FFFACD" position="0 1.4 0.22"></a-sphere>
        <a-sphere radius="0.08" color="#FFE4B5" position="0.2 1.35 0.15"></a-sphere>
        <a-sphere radius="0.08" color="#FFFACD" position="-0.2 1.35 0.15"></a-sphere>
        <a-sphere radius="0.07" color="#FFE4B5" position="0.15 1.25 0.25"></a-sphere>
        <a-sphere radius="0.07" color="#FFFACD" position="-0.15 1.25 0.25"></a-sphere>
      </a-entity>
      <a-entity id="plant-17" position="-20 0 10" class="plant" data-type="shrub" data-species="Laurel">
        <a-cylinder radius="0.19" height="1.05" color="#1a4d1a" position="0 0.525 0"></a-cylinder>
        <a-sphere radius="0.29" color="#3CB371" position="0 1.25 0"></a-sphere>
        <!-- Flores de Laurel -->
        <a-sphere radius="0.09" color="#FFFACD" position="0 1.45 0.23"></a-sphere>
        <a-sphere radius="0.08" color="#FFE4B5" position="0.21 1.4 0.16"></a-sphere>
        <a-sphere radius="0.08" color="#FFFACD" position="-0.21 1.4 0.16"></a-sphere>
        <a-sphere radius="0.07" color="#FFE4B5" position="0.16 1.3 0.26"></a-sphere>
        <a-sphere radius="0.07" color="#FFFACD" position="-0.16 1.3 0.26"></a-sphere>
      </a-entity>
      <a-entity id="plant-18" position="-18.5 0 10" class="plant" data-type="shrub" data-species="Laurel">
        <a-cylinder radius="0.17" height="0.95" color="#1a4d1a" position="0 0.475 0"></a-cylinder>
        <a-sphere radius="0.27" color="#3CB371" position="0 1.15 0"></a-sphere>
        <!-- Flores de Laurel -->
        <a-sphere radius="0.09" color="#FFFACD" position="0 1.35 0.21"></a-sphere>
        <a-sphere radius="0.08" color="#FFE4B5" position="0.19 1.3 0.14"></a-sphere>
        <a-sphere radius="0.08" color="#FFFACD" position="-0.19 1.3 0.14"></a-sphere>
        <a-sphere radius="0.07" color="#FFE4B5" position="0.14 1.2 0.24"></a-sphere>
        <a-sphere radius="0.07" color="#FFFACD" position="-0.14 1.2 0.24"></a-sphere>
      </a-entity>

      <!-- ============== HUERTA 7: BOJE (Cuadrante Inferior-Derecha) ============== -->
      <!-- Cartel Boje -->
      <a-entity position="20 0 20">
        <a-plane width="3" height="1.2" color="#8B4513" position="0 1.5 0"></a-plane>
        <a-text value="游꺔 BOJE" align="center" anchor="center" position="0 1.5 0.1" scale="2 2 2" color="white"></a-text>
      </a-entity>
      <!-- Plantas Boje -->
      <a-entity id="plant-19" position="18.5 0 22" class="plant" data-type="shrub" data-species="Boj">
        <a-cylinder radius="0.13" height="0.8" color="#1a4d1a" position="0 0.4 0"></a-cylinder>
        <a-sphere radius="0.23" color="#2F4F2F" position="0 0.95 0"></a-sphere>
        <a-sphere radius="0.15" color="#228B22" position="0.13 0.8 0"></a-sphere>
        <a-sphere radius="0.15" color="#228B22" position="-0.13 0.8 0"></a-sphere>
        <!-- Flores de Boje -->
        <a-sphere radius="0.07" color="#FFE4E1" position="0 1.15 0.18"></a-sphere>
        <a-sphere radius="0.06" color="#FFC0CB" position="0.13 1.05 0.12"></a-sphere>
        <a-sphere radius="0.06" color="#FFE4E1" position="-0.13 1.05 0.12"></a-sphere>
      </a-entity>
      <a-entity id="plant-20" position="20 0 22" class="plant" data-type="shrub" data-species="Boj">
        <a-cylinder radius="0.14" height="0.85" color="#1a4d1a" position="0 0.425 0"></a-cylinder>
        <a-sphere radius="0.24" color="#2F4F2F" position="0 1.0 0"></a-sphere>
        <a-sphere radius="0.16" color="#228B22" position="0.14 0.85 0"></a-sphere>
        <a-sphere radius="0.16" color="#228B22" position="-0.14 0.85 0"></a-sphere>
        <!-- Flores de Boje -->
        <a-sphere radius="0.07" color="#FFE4E1" position="0 1.2 0.19"></a-sphere>
        <a-sphere radius="0.06" color="#FFC0CB" position="0.14 1.1 0.13"></a-sphere>
        <a-sphere radius="0.06" color="#FFE4E1" position="-0.14 1.1 0.13"></a-sphere>
      </a-entity>
      <a-entity id="plant-21" position="21.5 0 22" class="plant" data-type="shrub" data-species="Boj">
        <a-cylinder radius="0.12" height="0.75" color="#1a4d1a" position="0 0.375 0"></a-cylinder>
        <a-sphere radius="0.22" color="#2F4F2F" position="0 0.9 0"></a-sphere>
        <a-sphere radius="0.14" color="#228B22" position="0.12 0.75 0"></a-sphere>
        <a-sphere radius="0.14" color="#228B22" position="-0.12 0.75 0"></a-sphere>
        <!-- Flores de Boje -->
        <a-sphere radius="0.07" color="#FFE4E1" position="0 1.1 0.17"></a-sphere>
        <a-sphere radius="0.06" color="#FFC0CB" position="0.12 1.0 0.11"></a-sphere>
        <a-sphere radius="0.06" color="#FFE4E1" position="-0.12 1.0 0.11"></a-sphere>
      </a-entity>

      <!-- ============== HUERTA 8: NENUFARES (Cuadrante Inferior-Izquierda) ============== -->
      <!-- Cartel Nen칰fares -->
      <a-entity position="-20 0 30">
        <a-plane width="3.5" height="1.2" color="#8B4513" position="0 1.5 0"></a-plane>
        <a-text value="游뿽 NEN칔FARES" align="center" anchor="center" position="0 1.5 0.1" scale="1.6 1.6 1.6" color="white"></a-text>
      </a-entity>
      <!-- Plantas Nen칰fares -->
      <a-entity id="plant-22" position="-21.5 0 32" class="plant" data-type="aquatic" data-species="Nen칰far">
        <a-cylinder radius="0.08" height="0.25" color="#1a4d1a" position="0 0.125 0"></a-cylinder>
        <a-cylinder radius="0.25" height="0.05" color="#90EE90" position="0 0.3 0"></a-cylinder>
        <a-sphere radius="0.15" color="#FF1493" position="0 0.4 0"></a-sphere>
      </a-entity>
      <a-entity id="plant-23" position="-20 0 32" class="plant" data-type="aquatic" data-species="Nen칰far">
        <a-cylinder radius="0.08" height="0.2" color="#1a4d1a" position="0 0.1 0"></a-cylinder>
        <a-cylinder radius="0.23" height="0.05" color="#90EE90" position="0 0.28 0"></a-cylinder>
        <a-sphere radius="0.14" color="#FF69B4" position="0 0.38 0"></a-sphere>
      </a-entity>
      <a-entity id="plant-24" position="-18.5 0 32" class="plant" data-type="aquatic" data-species="Nen칰far">
        <a-cylinder radius="0.08" height="0.23" color="#1a4d1a" position="0 0.115 0"></a-cylinder>
        <a-cylinder radius="0.24" height="0.05" color="#90EE90" position="0 0.29 0"></a-cylinder>
        <a-sphere radius="0.15" color="#FF1493" position="0 0.39 0"></a-sphere>
      </a-entity>

      <!-- ============== HUERTA 9: ALGAS (Centro-Fondo-Izquierda) ============== -->
      <!-- Cartel Algas -->
      <a-entity position="-8 0 35">
        <a-plane width="3" height="1.2" color="#8B4513" position="0 1.5 0"></a-plane>
        <a-text value="游 ALGAS" align="center" anchor="center" position="0 1.5 0.1" scale="2 2 2" color="white"></a-text>
      </a-entity>
      <!-- Plantas Algas -->
      <a-entity id="plant-25" position="-9.5 0 37" class="plant" data-type="aquatic" data-species="Alga">
        <a-cylinder radius="0.04" height="0.8" color="#006400" position="0 0.4 0"></a-cylinder>
        <a-cylinder radius="0.04" height="0.8" color="#228B22" position="0.08 0.4 0.08"></a-cylinder>
        <a-cylinder radius="0.04" height="0.8" color="#228B22" position="-0.08 0.4 -0.08"></a-cylinder>
      </a-entity>
      <a-entity id="plant-26" position="-8 0 37" class="plant" data-type="aquatic" data-species="Alga">
        <a-cylinder radius="0.04" height="0.85" color="#006400" position="0 0.425 0"></a-cylinder>
        <a-cylinder radius="0.04" height="0.85" color="#228B22" position="0.085 0.425 0.085"></a-cylinder>
        <a-cylinder radius="0.04" height="0.85" color="#228B22" position="-0.085 0.425 -0.085"></a-cylinder>
      </a-entity>
      <a-entity id="plant-27" position="-6.5 0 37" class="plant" data-type="aquatic" data-species="Alga">
        <a-cylinder radius="0.04" height="0.9" color="#006400" position="0 0.45 0"></a-cylinder>
        <a-cylinder radius="0.04" height="0.9" color="#228B22" position="0.09 0.45 0.09"></a-cylinder>
        <a-cylinder radius="0.04" height="0.9" color="#228B22" position="-0.09 0.45 -0.09"></a-cylinder>
      </a-entity>

      <!-- ============== HUERTA 10: ROBLES (Cuadrante Superior-Derecha) ============== -->
      <!-- Cartel Robles -->
      <a-entity position="20 0 8">
        <a-plane width="3" height="1.2" color="#8B4513" position="0 1.5 0"></a-plane>
        <a-text value="游꺕 ROBLES" align="center" anchor="center" position="0 1.5 0.1" scale="2 2 2" color="white"></a-text>
      </a-entity>
      <!-- Plantas Robles -->
      <a-entity id="plant-28" position="18.5 0 10" class="plant" data-type="tree" data-species="Roble">
        <a-cylinder radius="0.4" height="8.0" color="#654321" position="0 4.0 0"></a-cylinder>
        <a-sphere radius="1.0" color="#228B22" position="0 8.2 0"></a-sphere>
        <a-sphere radius="0.85" color="#2E8B57" position="0.6 7.5 0"></a-sphere>
        <a-sphere radius="0.85" color="#2E8B57" position="-0.6 7.5 0"></a-sphere>
        <!-- Flores de Roble -->
        <a-sphere radius="0.15" color="#FFB6C1" position="0 8.8 0.5"></a-sphere>
        <a-sphere radius="0.12" color="#FFC0CB" position="0.35 8.5 0.35"></a-sphere>
        <a-sphere radius="0.12" color="#FFB6C1" position="-0.35 8.5 0.35"></a-sphere>
        <a-sphere radius="0.12" color="#FFC0CB" position="0.5 8.0 0.3"></a-sphere>
        <a-sphere radius="0.12" color="#FFB6C1" position="-0.5 8.0 0.3"></a-sphere>
        <a-sphere radius="0.1" color="#FFC0CB" position="0 7.8 0.4"></a-sphere>
      </a-entity>
      <a-entity id="plant-29" position="20 0 10" class="plant" data-type="tree" data-species="Roble">
        <a-cylinder radius="0.42" height="8.5" color="#654321" position="0 4.25 0"></a-cylinder>
        <a-sphere radius="1.05" color="#228B22" position="0 8.7 0"></a-sphere>
        <a-sphere radius="0.9" color="#2E8B57" position="0.65 7.9 0"></a-sphere>
        <a-sphere radius="0.9" color="#2E8B57" position="-0.65 7.9 0"></a-sphere>
        <!-- Flores de Roble -->
        <a-sphere radius="0.15" color="#FFB6C1" position="0 9.3 0.52"></a-sphere>
        <a-sphere radius="0.12" color="#FFC0CB" position="0.37 9.0 0.37"></a-sphere>
        <a-sphere radius="0.12" color="#FFB6C1" position="-0.37 9.0 0.37"></a-sphere>
        <a-sphere radius="0.12" color="#FFC0CB" position="0.52 8.4 0.32"></a-sphere>
        <a-sphere radius="0.12" color="#FFB6C1" position="-0.52 8.4 0.32"></a-sphere>
        <a-sphere radius="0.1" color="#FFC0CB" position="0 8.2 0.42"></a-sphere>
      </a-entity>
      <a-entity id="plant-30" position="21.5 0 10" class="plant" data-type="tree" data-species="Roble">
        <a-cylinder radius="0.38" height="7.5" color="#654321" position="0 3.75 0"></a-cylinder>
        <a-sphere radius="0.95" color="#228B22" position="0 7.7 0"></a-sphere>
        <a-sphere radius="0.8" color="#2E8B57" position="0.55 7.0 0"></a-sphere>
        <a-sphere radius="0.8" color="#2E8B57" position="-0.55 7.0 0"></a-sphere>
        <!-- Flores de Roble -->
        <a-sphere radius="0.14" color="#FFB6C1" position="0 8.3 0.48"></a-sphere>
        <a-sphere radius="0.11" color="#FFC0CB" position="0.33 8.0 0.33"></a-sphere>
        <a-sphere radius="0.11" color="#FFB6C1" position="-0.33 8.0 0.33"></a-sphere>
        <a-sphere radius="0.11" color="#FFC0CB" position="0.48 7.5 0.28"></a-sphere>
        <a-sphere radius="0.11" color="#FFB6C1" position="-0.48 7.5 0.28"></a-sphere>
        <a-sphere radius="0.1" color="#FFC0CB" position="0 7.3 0.38"></a-sphere>
      </a-entity>

      <!-- ============== HUERTA 11: PINOS (Cuadrante Inferior-Izquierda) ============== -->
      <!-- Cartel Pinos -->
      <a-entity position="-20 0 30">
        <a-plane width="3" height="1.2" color="#8B4513" position="0 1.5 0"></a-plane>
        <a-text value="游 PINOS" align="center" anchor="center" position="0 1.5 0.1" scale="2 2 2" color="white"></a-text>
      </a-entity>
      <!-- Plantas Pinos -->
      <a-entity id="plant-31" position="-21.5 0 32" class="plant" data-type="tree" data-species="Pino">
        <a-cylinder radius="0.35" height="9.0" color="#654321" position="0 4.5 0"></a-cylinder>
        <a-cone radius="1.2" height="2.5" color="#1a4d1a" position="0 8.0 0"></a-cone>
        <a-cone radius="0.8" height="1.8" color="#228B22" position="0 6.5 0"></a-cone>
        <!-- Flores de Pino -->
        <a-sphere radius="0.12" color="#FFD700" position="0 8.5 0.8"></a-sphere>
        <a-sphere radius="0.1" color="#FFA500" position="0.5 8.2 0.6"></a-sphere>
        <a-sphere radius="0.1" color="#FFD700" position="-0.5 8.2 0.6"></a-sphere>
        <a-sphere radius="0.1" color="#FFA500" position="0.4 7.8 0.5"></a-sphere>
        <a-sphere radius="0.1" color="#FFD700" position="-0.4 7.8 0.5"></a-sphere>
      </a-entity>
      <a-entity id="plant-32" position="-20 0 32" class="plant" data-type="tree" data-species="Pino">
        <a-cylinder radius="0.37" height="9.5" color="#654321" position="0 4.75 0"></a-cylinder>
        <a-cone radius="1.25" height="2.6" color="#1a4d1a" position="0 8.3 0"></a-cone>
        <a-cone radius="0.85" height="1.9" color="#228B22" position="0 6.8 0"></a-cone>
        <!-- Flores de Pino -->
        <a-sphere radius="0.12" color="#FFD700" position="0 8.8 0.82"></a-sphere>
        <a-sphere radius="0.1" color="#FFA500" position="0.52 8.5 0.62"></a-sphere>
        <a-sphere radius="0.1" color="#FFD700" position="-0.52 8.5 0.62"></a-sphere>
        <a-sphere radius="0.1" color="#FFA500" position="0.42 8.1 0.52"></a-sphere>
        <a-sphere radius="0.1" color="#FFD700" position="-0.42 8.1 0.52"></a-sphere>
      </a-entity>
      <a-entity id="plant-33" position="-18.5 0 32" class="plant" data-type="tree" data-species="Pino">
        <a-cylinder radius="0.33" height="8.5" color="#654321" position="0 4.25 0"></a-cylinder>
        <a-cone radius="1.15" height="2.4" color="#1a4d1a" position="0 7.7 0"></a-cone>
        <a-cone radius="0.75" height="1.7" color="#228B22" position="0 6.2 0"></a-cone>
        <!-- Flores de Pino -->
        <a-sphere radius="0.12" color="#FFD700" position="0 8.2 0.78"></a-sphere>
        <a-sphere radius="0.1" color="#FFA500" position="0.48 7.9 0.58"></a-sphere>
        <a-sphere radius="0.1" color="#FFD700" position="-0.48 7.9 0.58"></a-sphere>
        <a-sphere radius="0.1" color="#FFA500" position="0.38 7.5 0.48"></a-sphere>
        <a-sphere radius="0.1" color="#FFD700" position="-0.38 7.5 0.48"></a-sphere>
      </a-entity>

      <!-- ============== HUERTA 12: ABEDULES (Cuadrante Inferior-Derecha) ============== -->
      <!-- Cartel Abedules -->
      <a-entity position="20 0 30">
        <a-plane width="3" height="1.2" color="#8B4513" position="0 1.5 0"></a-plane>
        <a-text value="游꺕 ABEDULES" align="center" anchor="center" position="0 1.5 0.1" scale="1.8 1.8 1.8" color="white"></a-text>
      </a-entity>
      <!-- Plantas Abedules -->
      <a-entity id="plant-34" position="18.5 0 32" class="plant" data-type="tree" data-species="Abedul">
        <a-cylinder radius="0.28" height="7.5" color="#D3D3D3" position="0 3.75 0"></a-cylinder>
        <a-sphere radius="0.9" color="#90EE90" position="0 7.7 0"></a-sphere>
        <a-sphere radius="0.75" color="#7CFC00" position="0.45 7.0 0"></a-sphere>
        <a-sphere radius="0.75" color="#7CFC00" position="-0.45 7.0 0"></a-sphere>
        <!-- Flores de Abedul -->
        <a-sphere radius="0.11" color="#FFE4E1" position="0 8.1 0.6"></a-sphere>
        <a-sphere radius="0.09" color="#FFC0CB" position="0.3 7.8 0.42"></a-sphere>
        <a-sphere radius="0.09" color="#FFE4E1" position="-0.3 7.8 0.42"></a-sphere>
        <a-sphere radius="0.09" color="#FFC0CB" position="0.42 7.3 0.35"></a-sphere>
        <a-sphere radius="0.09" color="#FFE4E1" position="-0.42 7.3 0.35"></a-sphere>
      </a-entity>
      <a-entity id="plant-35" position="20 0 32" class="plant" data-type="tree" data-species="Abedul">
        <a-cylinder radius="0.3" height="8.0" color="#D3D3D3" position="0 4.0 0"></a-cylinder>
        <a-sphere radius="0.95" color="#90EE90" position="0 8.2 0"></a-sphere>
        <a-sphere radius="0.8" color="#7CFC00" position="0.5 7.4 0"></a-sphere>
        <a-sphere radius="0.8" color="#7CFC00" position="-0.5 7.4 0"></a-sphere>
        <!-- Flores de Abedul -->
        <a-sphere radius="0.11" color="#FFE4E1" position="0 8.6 0.63"></a-sphere>
        <a-sphere radius="0.09" color="#FFC0CB" position="0.32 8.3 0.44"></a-sphere>
        <a-sphere radius="0.09" color="#FFE4E1" position="-0.32 8.3 0.44"></a-sphere>
        <a-sphere radius="0.09" color="#FFC0CB" position="0.44 7.8 0.37"></a-sphere>
        <a-sphere radius="0.09" color="#FFE4E1" position="-0.44 7.8 0.37"></a-sphere>
      </a-entity>
      <a-entity id="plant-36" position="21.5 0 32" class="plant" data-type="tree" data-species="Abedul">
        <a-cylinder radius="0.26" height="7.0" color="#D3D3D3" position="0 3.5 0"></a-cylinder>
        <a-sphere radius="0.85" color="#90EE90" position="0 7.2 0"></a-sphere>
        <a-sphere radius="0.7" color="#7CFC00" position="0.4 6.5 0"></a-sphere>
        <a-sphere radius="0.7" color="#7CFC00" position="-0.4 6.5 0"></a-sphere>
        <!-- Flores de Abedul -->
        <a-sphere radius="0.11" color="#FFE4E1" position="0 7.6 0.57"></a-sphere>
        <a-sphere radius="0.09" color="#FFC0CB" position="0.28 7.3 0.4"></a-sphere>
        <a-sphere radius="0.09" color="#FFE4E1" position="-0.28 7.3 0.4"></a-sphere>
        <a-sphere radius="0.09" color="#FFC0CB" position="0.4 6.8 0.33"></a-sphere>
        <a-sphere radius="0.09" color="#FFE4E1" position="-0.4 6.8 0.33"></a-sphere>
      </a-entity>

      <!-- C치mara del usuario (con controles) -->
      <a-entity camera="active: true" position="0 1.6 5" wasd-controls look-controls></a-entity>

    </a-scene>

    <script>
      // Mapeo de plantas por especie
      const plantInfo = {
        'plant-1': { name: 'Rosa #1', type: 'Flor', species: 'Rosas', color: '#FF1493' },
        'plant-2': { name: 'Rosa #2', type: 'Flor', species: 'Rosas', color: '#FF1493' },
        'plant-3': { name: 'Rosa #3', type: 'Flor', species: 'Rosas', color: '#FF1493' },
        'plant-4': { name: 'Tulip치n #1', type: 'Flor', species: 'Tulipanes', color: '#FFD700' },
        'plant-5': { name: 'Tulip치n #2', type: 'Flor', species: 'Tulipanes', color: '#FFD700' },
        'plant-6': { name: 'Tulip치n #3', type: 'Flor', species: 'Tulipanes', color: '#FFD700' },
        'plant-7': { name: 'Girasol #1', type: 'Flor', species: 'Girasoles', color: '#FFD700' },
        'plant-8': { name: 'Girasol #2', type: 'Flor', species: 'Girasoles', color: '#FFD700' },
        'plant-9': { name: 'Girasol #3', type: 'Flor', species: 'Girasoles', color: '#FFD700' },
        'plant-10': { name: 'Loto #1', type: 'Flor', species: 'Lotos', color: '#FF69B4' },
        'plant-11': { name: 'Loto #2', type: 'Flor', species: 'Lotos', color: '#FF69B4' },
        'plant-12': { name: 'Loto #3', type: 'Flor', species: 'Lotos', color: '#FF69B4' },
        'plant-13': { name: 'Helecho #1', type: 'Arbusto', species: 'Helechos', color: '#228B22' },
        'plant-14': { name: 'Helecho #2', type: 'Arbusto', species: 'Helechos', color: '#228B22' },
        'plant-15': { name: 'Helecho #3', type: 'Arbusto', species: 'Helechos', color: '#228B22' },
        'plant-16': { name: 'Laurel #1', type: 'Arbusto', species: 'Laureles', color: '#3CB371' },
        'plant-17': { name: 'Laurel #2', type: 'Arbusto', species: 'Laureles', color: '#3CB371' },
        'plant-18': { name: 'Laurel #3', type: 'Arbusto', species: 'Laureles', color: '#3CB371' },
        'plant-19': { name: 'Boj #1', type: 'Arbusto', species: 'Boje', color: '#2F4F2F' },
        'plant-20': { name: 'Boj #2', type: 'Arbusto', species: 'Boje', color: '#2F4F2F' },
        'plant-21': { name: 'Boj #3', type: 'Arbusto', species: 'Boje', color: '#2F4F2F' },
        'plant-22': { name: 'Nen칰far #1', type: 'Acu치tica', species: 'Nen칰fares', color: '#FF1493' },
        'plant-23': { name: 'Nen칰far #2', type: 'Acu치tica', species: 'Nen칰fares', color: '#FF69B4' },
        'plant-24': { name: 'Nen칰far #3', type: 'Acu치tica', species: 'Nen칰fares', color: '#FF1493' },
        'plant-25': { name: 'Alga #1', type: 'Acu치tica', species: 'Algas', color: '#228B22' },
        'plant-26': { name: 'Alga #2', type: 'Acu치tica', species: 'Algas', color: '#228B22' },
        'plant-27': { name: 'Alga #3', type: 'Acu치tica', species: 'Algas', color: '#228B22' },
        'plant-28': { name: 'Roble #1', type: '츼rbol', species: 'Robles', color: '#654321' },
        'plant-29': { name: 'Roble #2', type: '츼rbol', species: 'Robles', color: '#654321' },
        'plant-30': { name: 'Roble #3', type: '츼rbol', species: 'Robles', color: '#654321' },
        'plant-31': { name: 'Pino #1', type: '츼rbol', species: 'Pinos', color: '#1a4d1a' },
        'plant-32': { name: 'Pino #2', type: '츼rbol', species: 'Pinos', color: '#1a4d1a' },
        'plant-33': { name: 'Pino #3', type: '츼rbol', species: 'Pinos', color: '#1a4d1a' },
        'plant-34': { name: 'Abedul #1', type: '츼rbol', species: 'Abedules', color: '#D3D3D3' },
        'plant-35': { name: 'Abedul #2', type: '츼rbol', species: 'Abedules', color: '#D3D3D3' },
        'plant-36': { name: 'Abedul #3', type: '츼rbol', species: 'Abedules', color: '#D3D3D3' }
      };

      const plants = document.querySelectorAll('.plant');
      const uiPanel = document.getElementById('ui-panel');
      const plantTypeEl = document.getElementById('plant-type');
      const plantNameEl = document.getElementById('plant-name');
      const growBtn = document.getElementById('grow-btn');
      let closestPlant = null;
      const detectionRadius = 6; // Distancia de detecci칩n
      
      // Guardar dimensiones originales de las plantas
      const originalDimensions = {};
      plants.forEach(plant => {
        const plantId = plant.id;
        originalDimensions[plantId] = {};
        
        const cylinder = plant.querySelector('a-cylinder');
        if (cylinder) {
          const pos = cylinder.getAttribute('position');
          originalDimensions[plantId].cylinder = {
            radius: parseFloat(cylinder.getAttribute('radius')),
            height: parseFloat(cylinder.getAttribute('height')),
            position: { x: pos.x, y: pos.y, z: pos.z }
          };
        }
        
        const spheres = plant.querySelectorAll('a-sphere');
        originalDimensions[plantId].spheres = [];
        spheres.forEach(sphere => {
          const pos = sphere.getAttribute('position');
          originalDimensions[plantId].spheres.push({
            radius: parseFloat(sphere.getAttribute('radius')),
            position: { x: pos.x, y: pos.y, z: pos.z }
          });
        });
        
        const cones = plant.querySelectorAll('a-cone');
        originalDimensions[plantId].cones = [];
        cones.forEach(cone => {
          const pos = cone.getAttribute('position');
          const radiusBottom = cone.getAttribute('radius-bottom');
          const radius = cone.getAttribute('radius');
          originalDimensions[plantId].cones.push({
            radius: radiusBottom ? parseFloat(radiusBottom) : parseFloat(radius),
            radiusBottom: radiusBottom ? parseFloat(radiusBottom) : null,
            radiusTop: cone.getAttribute('radius-top') ? parseFloat(cone.getAttribute('radius-top')) : null,
            height: parseFloat(cone.getAttribute('height')),
            position: { x: pos.x, y: pos.y, z: pos.z },
            hasRadiusBottom: !!radiusBottom
          });
        });
        
        // Almacenar todos los planes (flores y hojas)
        const planes = plant.querySelectorAll('a-plane');
        originalDimensions[plantId].planes = [];
        planes.forEach(plane => {
          const pos = plane.getAttribute('position');
          originalDimensions[plantId].planes.push({
            width: parseFloat(plane.getAttribute('width')),
            height: parseFloat(plane.getAttribute('height')),
            position: { x: pos.x, y: pos.y, z: pos.z },
            rotation: plane.getAttribute('rotation')
          });
        });
      });

      // Funci칩n para calcular distancia 3D
      function getDistance(pos1, pos2) {
        const dx = pos1.x - pos2.x;
        const dy = pos1.y - pos2.y;
        const dz = pos1.z - pos2.z;
        return Math.sqrt(dx * dx + dy * dy + dz * dz);
      }

      // Funci칩n para obtener la posici칩n de la c치mara
      function getCameraPosition() {
        const camera = document.querySelector('[camera]');
        return camera.getAttribute('position');
      }

      // Funci칩n para actualizar informaci칩n de la planta
      function updatePlantInfo(plant) {
        const plantId = plant.id;
        const info = plantInfo[plantId];
        
        if (info) {
          plantTypeEl.textContent = `游늸 ${info.species}`;
          plantTypeEl.style.color = info.color;
          plantNameEl.textContent = `${info.name} (${info.type})`;
        }
      }

      // Funci칩n para hacer crecer la planta
      function growPlant(plant) {
        if (!plant) return;

        const cylinder = plant.querySelector('a-cylinder');
        const spheres = plant.querySelectorAll('a-sphere');
        const cones = plant.querySelectorAll('a-cone');

        if (cylinder) {
          // Aumentar altura del cilindro (eje Y)
          const currentHeight = parseFloat(cylinder.getAttribute('height'));
          const newHeight = currentHeight + 0.3;
          cylinder.setAttribute('height', newHeight);

          // Actualizar posici칩n Y del cilindro
          const cylinderPos = cylinder.getAttribute('position');
          cylinderPos.y = newHeight / 2;
          cylinder.setAttribute('position', cylinderPos);

          // Aumentar radio (eje X y Z)
          const currentRadius = parseFloat(cylinder.getAttribute('radius'));
          const newRadius = currentRadius + 0.08;
          cylinder.setAttribute('radius', newRadius);
        }

        // Hacer crecer todas las esferas
        spheres.forEach((sphere, index) => {
          const currentRadius = parseFloat(sphere.getAttribute('radius'));
          const newRadius = currentRadius + 0.08;
          sphere.setAttribute('radius', newRadius);

          // Solo actualizar posici칩n Y de la PRIMERA esfera (el follaje principal)
          // Las esferas secundarias (hojas peque침as) NO deben moverse
          if (index === 0) {
            const pos = sphere.getAttribute('position');
            if (pos.y > 0) {
              pos.y += 0.15;
              sphere.setAttribute('position', pos);
            }
          }
        });

        // Hacer crecer conos (para 치rboles)
        cones.forEach((cone) => {
          const currentRadius = parseFloat(cone.getAttribute('radius'));
          const currentHeight = parseFloat(cone.getAttribute('height'));
          const newRadius = currentRadius + 0.1;
          const newHeight = currentHeight + 0.15;
          
          cone.setAttribute('radius', newRadius);
          cone.setAttribute('height', newHeight);

          // Actualizar posici칩n Y
          const pos = cone.getAttribute('position');
          if (pos.y > 0) {
            pos.y += 0.2;
            cone.setAttribute('position', pos);
          }
        });

        // Animaci칩n visual
        plant.emit('grow');
      }

      // Verificar proximidad a plantas continuamente
      setInterval(() => {
        const cameraPos = getCameraPosition();
        let closest = null;
        let minDistance = detectionRadius;

        plants.forEach(plant => {
          const plantPos = plant.getAttribute('position');
          const distance = getDistance(cameraPos, plantPos);

          if (distance < minDistance) {
            minDistance = distance;
            closest = plant;
          }
        });

        // Mostrar/ocultar panel si hay planta cercana
        if (closest && closest !== closestPlant) {
          closestPlant = closest;
          updatePlantInfo(closestPlant);
          uiPanel.classList.add('visible');
        } else if (!closest && closestPlant) {
          closestPlant = null;
          uiPanel.classList.remove('visible');
        }
      }, 100);

      // Evento del bot칩n para hacer crecer
      growBtn.addEventListener('click', () => {
        if (closestPlant) {
          growPlant(closestPlant);
        }
      });

      // Funci칩n para resetear las plantas a su tama침o original
      function resetAllPlants() {
        plants.forEach(plant => {
          const plantId = plant.id;
          const original = originalDimensions[plantId];
          
          if (!original) return;
          
          // Resetear cilindro
          if (original.cylinder) {
            const cylinder = plant.querySelector('a-cylinder');
            if (cylinder) {
              cylinder.setAttribute('radius', original.cylinder.radius);
              cylinder.setAttribute('height', original.cylinder.height);
              cylinder.setAttribute('position', `${original.cylinder.position.x} ${original.cylinder.position.y} ${original.cylinder.position.z}`);
            }
          }
          
          // Resetear esferas
          if (original.spheres) {
            const spheres = plant.querySelectorAll('a-sphere');
            spheres.forEach((sphere, index) => {
              if (original.spheres[index]) {
                sphere.setAttribute('radius', original.spheres[index].radius);
                sphere.setAttribute('position', `${original.spheres[index].position.x} ${original.spheres[index].position.y} ${original.spheres[index].position.z}`);
              }
            });
          }
          
          // Resetear conos
          if (original.cones) {
            const cones = plant.querySelectorAll('a-cone');
            cones.forEach((cone, index) => {
              if (original.cones[index]) {
                const originalCone = original.cones[index];
                
                // Restaurar atributos de radio seg칰n el tipo
                if (originalCone.hasRadiusBottom) {
                  cone.setAttribute('radius-bottom', originalCone.radiusBottom);
                  if (originalCone.radiusTop !== null) {
                    cone.setAttribute('radius-top', originalCone.radiusTop);
                  }
                } else {
                  cone.setAttribute('radius', originalCone.radius);
                }
                
                cone.setAttribute('height', originalCone.height);
                cone.setAttribute('position', `${originalCone.position.x} ${originalCone.position.y} ${originalCone.position.z}`);
              }
            });
          }
          
          // Resetear planes (flores y hojas)
          if (original.planes) {
            const planes = plant.querySelectorAll('a-plane');
            planes.forEach((plane, index) => {
              if (original.planes[index]) {
                plane.setAttribute('width', original.planes[index].width);
                plane.setAttribute('height', original.planes[index].height);
                plane.setAttribute('position', `${original.planes[index].position.x} ${original.planes[index].position.y} ${original.planes[index].position.z}`);
                if (original.planes[index].rotation) {
                  plane.setAttribute('rotation', original.planes[index].rotation);
                }
              }
            });
          }
        });
      }

      // Tambi칠n permitir hacer crecer con tecla ENTER
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && closestPlant) {
          growPlant(closestPlant);
        }
        
        // Controles de c치mara vertical: E para subir, Q para bajar
        const camera = document.querySelector('a-entity[camera]');
        if (camera) {
          const currentPos = camera.getAttribute('position');
          const moveAmount = 0.3; // Unidades a moverse por tecla
          
          if (e.key === 'e' || e.key === 'E') {
            // Subir c치mara
            currentPos.y += moveAmount;
            camera.setAttribute('position', currentPos);
          } else if (e.key === 'q' || e.key === 'Q') {
            // Bajar c치mara (pero no por debajo del suelo)
            if (currentPos.y > 0.5) {
              currentPos.y -= moveAmount;
              camera.setAttribute('position', currentPos);
            }
          }
        }
      });
    </script>
  </body>
</html>
